{"type":"user","timestamp":"2026-01-07T16:59:04.680Z","content":"Inspect the Pine codebase structure and locate how divergence, MTF resonance, statistics (including Bayesian adjusted win rate), and dashboard modes are implemented. Summarize key implementation details and any pitfalls relevant to the design questions."}
{"type":"tool_use","timestamp":"2026-01-07T16:59:11.007Z","tool_name":"read","tool_input":{"filePath":"/workspace/adaptive_rsi.pine"}}
{"type":"tool_result","timestamp":"2026-01-07T16:59:11.008Z","tool_name":"read","tool_input":{"filePath":"/workspace/adaptive_rsi.pine"},"tool_output":{"preview":"// MIT License - Feel free to use, modify, and share.\n// Â© Adaptive RSI Pro - Dynamic Thresholds + MTF + Divergence + Statistics\n\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// â–¶ EMOJI LEGEND / ä¿¡å·å›¾ä¾‹\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n//\n// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n// â”‚ CHART SIGNALS / å›¾è¡¨ä¿¡å·                                                    â”‚\n// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n// â”‚ BUY / ä¹°å…¥ (æ˜¾ç¤ºåœ¨åº•éƒ¨)                                                     â”‚\n// â”‚   ğŸŒŸ MTF Resonance + Extreme Oversold  å¤šå‘¨æœŸå…±æŒ¯+æç«¯è¶…å– (æœ€å¼ºä¹°å…¥ä¿¡å·)    â”‚\n// â”‚   ğŸ’ Divergence + Extreme Oversold     èƒŒç¦»+æç«¯è¶…å– (å¼ºä¹°å…¥ä¿¡å·)            â”‚\n// â”‚   ğŸ”¥ Extreme Oversold (Z<âˆ’2Ïƒâ‰ˆP2)       æç«¯è¶…å– (ä¹°å…¥ä¿¡å·)                   â”‚\n// â”‚   â¬†ï¸ Normal Oversold (Z<âˆ’1.5Ïƒâ‰ˆP7)       æ™®é€šè¶…å– (å¼±ä¹°å…¥ï¼Œé»˜è®¤éšè—)          â”‚\n// â”‚   â†—ï¸ Bullish Divergence Only            çœ‹æ¶¨èƒŒç¦» (æ½œåœ¨åº•éƒ¨ï¼Œéä¿¡å·)          â”‚\n// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n// â”‚ SELL / å–å‡º (æ˜¾ç¤ºåœ¨é¡¶éƒ¨)                                                    â”‚\n// â”‚   ğŸŒŸ MTF Resonance + Extreme Overbought å¤šå‘¨æœŸå…±æŒ¯+æç«¯è¶…ä¹° (æœ€å¼ºå–å‡ºä¿¡å·)   â”‚\n// â”‚   ğŸ’ Divergence + Extreme Overbought    èƒŒç¦»+æç«¯è¶…ä¹° (å¼ºå–å‡ºä¿¡å·)           â”‚"}}
{"type":"tool_use","timestamp":"2026-01-07T16:59:11.146Z","tool_name":"grep","tool_input":{"pattern":"divergence","include":"*.pine"}}
{"type":"tool_result","timestamp":"2026-01-07T16:59:11.152Z","tool_name":"grep","tool_input":{"pattern":"divergence","include":"*.pine"},"tool_output":{"output":"Found 26 match(es) in 1 file(s)\n\n./adaptive_rsi.pine\n  100: grp_divergence = \"â•â•â• Divergence Settings / èƒŒç¦»è®¾ç½® â•â•â•\"\n  101: enable_divergence = input.bool(true, \"Enable Divergence Detection / å¯ç”¨èƒŒç¦»æ£€æµ‹\", group=grp_divergence)\n  102: div_mode = input.string(\"Auto\", \"Divergence Mode / èƒŒç¦»æ¨¡å¼\", options=[\"Auto\", \"Low Vol\", \"Normal\", \"High Vol\", \"Crypto\", \"Custom\"], group=grp_divergence, tooltip=\"Auto: æ ¹æ®ATRè‡ªåŠ¨åˆ¤æ–­\\nLow Vol: è“ç­¹/ETF\\nNormal: ä¸€èˆ¬è‚¡ç¥¨\\nHigh Vol: æˆé•¿/å°ç›˜\\nCrypto: åŠ å¯†è´§å¸\")\n  103: div_lookback_custom = input.int(5, \"Custom Lookback / è‡ªå®šä¹‰å›çœ‹\", minval=2, maxval=20, group=grp_divergence, tooltip=\"ä»…åœ¨ Custom æ¨¡å¼ä¸‹ä½¿ç”¨\")\n  104: div_range_custom = input.int(60, \"Custom Range / è‡ªå®šä¹‰èŒƒå›´\", minval=20, maxval=200, group=grp_divergence, tooltip=\"ä»…åœ¨ Custom æ¨¡å¼ä¸‹ä½¿ç”¨\")\n  490: var bool bullish_divergence = false\n  491: var bool bearish_divergence = false\n  493: if enable_divergence\n  499: bullish_divergence := true\n  501: bullish_divergence := false\n  503: bullish_divergence := false\n  508: bullish_divergence := false\n  515: bearish_divergence := true\n  517: bearish_divergence := false\n  519: bearish_divergence := false\n  524: bearish_divergence := false\n  635: bool raw_sig_buy_div = enable_divergence and bullish_divergence and was_extreme_oversold and not raw_sig_buy_mtf\n  640: bool raw_sig_sell_div = enable_divergence and bearish_divergence and was_extreme_overbought and not raw_sig_sell_mtf\n  672: bool sig_div_bull_only = enable_divergence and bullish_divergence and not was_extreme_oversold\n  673: bool sig_div_bear_only = enable_divergence and bearish_divergence and not was_extreme_overbought\n  687: if bullish_divergence or oversold_resonance\n  709: if bearish_divergence or overbought_resonance\n  920: div_text = bullish_divergence ? \"ğŸŸ¢ BULL\" : bearish_divergence ? \"ğŸ”´ BEAR\" : \"â€”\"\n  921: div_color = bullish_divergence ? #00BCD4 : bearish_divergence ? #FF9800 : color.gray\n  930: full_rows = 7 + (enable_mtf and dashboard_mode == \"Full\" ? 2 : 0) + (enable_divergence and dashboard_mode == \"Full\" ? 1 : 0) + (enable_stats and dashboard_mode == \"Full\" ? 9 : 0)\n  1057: if enable_divergence\n"}}
{"type":"tool_use","timestamp":"2026-01-07T16:59:11.330Z","tool_name":"grep","tool_input":{"pattern":"MTF|multi.timeframe|resonance","include":"*.pine"}}
{"type":"tool_result","timestamp":"2026-01-07T16:59:11.340Z","tool_name":"grep","tool_input":{"pattern":"MTF|multi.timeframe|resonance","include":"*.pine"},"tool_output":{"output":"Found 22 match(es) in 1 file(s)\n\n./adaptive_rsi.pine\n  2: // Â© Adaptive RSI Pro - Dynamic Thresholds + MTF + Divergence + Statistics\n  12: // â”‚   ğŸŒŸ MTF Resonance + Extreme Oversold  å¤šå‘¨æœŸå…±æŒ¯+æç«¯è¶…å– (æœ€å¼ºä¹°å…¥ä¿¡å·)    â”‚\n  19: // â”‚   ğŸŒŸ MTF Resonance + Extreme Overbought å¤šå‘¨æœŸå…±æŒ¯+æç«¯è¶…ä¹° (æœ€å¼ºå–å‡ºä¿¡å·)   â”‚\n  89: enable_mtf = input.bool(true, \"Enable MTF RSI / å¯ç”¨å¤šæ—¶é—´æ¡†æ¶\", group=grp_mtf)\n  90: mtf_mode = input.string(\"Auto\", \"MTF Mode / æ¨¡å¼\", options=[\"Auto\", \"Manual\"], group=grp_mtf, tooltip=\"Auto: æ ¹æ®åˆ†å½¢é€»è¾‘è‡ªåŠ¨é€‰æ‹©æ›´å°å‘¨æœŸ (å‘ä¸‹åˆ†å½¢)\\nManual: ä½¿ç”¨ä¸‹æ–¹æ‰‹åŠ¨è®¾ç½®\")\n  382: oversold_resonance = oversold_count >= 3 or (valid_tf_count <= 3 and oversold_count == valid_tf_count)\n  383: overbought_resonance = overbought_count >= 3 or (valid_tf_count <= 3 and overbought_count == valid_tf_count)\n  634: bool raw_sig_buy_mtf = enable_mtf and oversold_resonance and extreme_oversold\n  639: bool raw_sig_sell_mtf = enable_mtf and overbought_resonance and extreme_overbought\n  687: if bullish_divergence or oversold_resonance\n  709: if bearish_divergence or overbought_resonance\n  866: plotshape(sig_buy_mtf, title=\"ğŸŒŸ MTF+æç«¯è¶…å–\", style=shape.labelup, location=location.bottom, color=#00E676, size=size.normal, text=\"ğŸŒŸ\", textcolor=color.white)\n  872: plotshape(sig_sell_mtf, title=\"ğŸŒŸ MTF+æç«¯è¶…ä¹°\", style=shape.labeldown, location=location.top, color=#FF5252, size=size.normal, text=\"ğŸŒŸ\", textcolor=color.white)\n  923: resonance_text = oversold_resonance ? str.format(\"ğŸŸ¢ {0}/{1}\", oversold_count, valid_tf_count) :\n  924: overbought_resonance ? str.format(\"ğŸ”´ {0}/{1}\", overbought_count, valid_tf_count) :\n  926: resonance_color = oversold_resonance ? color_bull : overbought_resonance ? color_bear : color.gray\n  1049: table.cell(dashboard, 0, row, str.format(\"MTF {0}|{1}|{2}\", mtf_tf1_display, mtf_tf2_display, mtf_tf3_display), text_color=color.gray, text_size=txt_size_body)\n  1054: table.cell(dashboard, 1, row, resonance_text, text_color=resonance_color, text_size=txt_size_body)\n  1072: table.cell(dashboard, 0, row, str.format(\"ğŸŒŸMTF Buy({0}){1}\", mtf_buy_stats.count, mtf_buy_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1075: table.cell(dashboard, 0, row, str.format(\"ğŸŒŸMTF Sell({0}){1}\", mtf_sell_stats.count, mtf_sell_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1448: msg := msg + \"ğŸŒŸMTFå…±æŒ¯ \"\n  1477: msg := msg + \"ğŸŒŸMTFå…±æŒ¯ \"\n"}}
{"type":"tool_use","timestamp":"2026-01-07T16:59:11.783Z","tool_name":"grep","tool_input":{"pattern":"statistics|win.rate|Bayesian","include":"*.pine"}}
{"type":"tool_result","timestamp":"2026-01-07T16:59:11.797Z","tool_name":"grep","tool_input":{"pattern":"statistics|win.rate|Bayesian","include":"*.pine"},"tool_output":{"output":"No matches found"}}
{"type":"tool_use","timestamp":"2026-01-07T16:59:11.931Z","tool_name":"grep","tool_input":{"pattern":"dashboard|mode|table","include":"*.pine"}}
{"type":"tool_result","timestamp":"2026-01-07T16:59:11.941Z","tool_name":"grep","tool_input":{"pattern":"dashboard|mode|table","include":"*.pine"},"tool_output":{"output":"Found 111 match(es) in 1 file(s)\n\n./adaptive_rsi.pine\n  56: lookback_mode = input.string(\"Auto\", \"Lookback Mode / å›çœ‹æ¨¡å¼\", options=[\"Auto\", \"Custom\"], group=grp_adaptive, tooltip=\"Auto: æ ¹æ®æ—¶é—´æ¡†æ¶å’ŒRSIæ³¢åŠ¨ç‡è‡ªåŠ¨è®¡ç®—\\nCustom: ä½¿ç”¨è‡ªå®šä¹‰å€¼\")\n  59: vol_history_mode = input.string(\"1 Year\", \"History Depth / å†å²æ·±åº¦\", options=[\"6 Months\", \"1 Year\", \"2 Years\"], group=grp_adaptive, tooltip=\"æ³¢åŠ¨ç‡å‚è€ƒçš„å†å²æ—¶é—´é•¿åº¦\\nè‡ªåŠ¨æ ¹æ®æ—¶é—´æ¡†æ¶è½¬æ¢ä¸ºKçº¿æ•°é‡\")\n  62: visual_line_mode = input.string(\"Unified\", \"Threshold Line Mode / é˜ˆå€¼çº¿æ¨¡å¼\", options=[\"Unified\", \"Z-Score\", \"Percentile\", \"Both\"], group=grp_visual, tooltip=\"Unified(æ¨è): Z-Scoreçº¿+ç™¾åˆ†ä½æ ‡æ³¨ï¼Œå…¼é¡¾ä¸¥è°¨æ€§å’Œç›´è§‚æ€§\\nZ-Score: ä»…ç»Ÿè®¡å­¦é˜ˆå€¼çº¿(Â±2Ïƒ, Â±1.5Ïƒ)\\nPercentile: ä»…ç™¾åˆ†ä½çº¿(P5-P95)\\nBoth: åŒæ—¶æ˜¾ç¤ºä¸¤ç§\")\n  64: show_dashboard = input.bool(true, \"Show Dashboard / æ˜¾ç¤ºä»ªè¡¨ç›˜\", group=grp_visual)\n  65: dashboard_mode = input.string(\"Full\", \"Dashboard Mode / é¢æ¿æ¨¡å¼\", options=[\"Mobile\", \"Lite\", \"Full\"], group=grp_visual, tooltip=\"Mobile: æç®€æ¨¡å¼(3è¡Œ)ï¼Œä»…RSI+ä¿¡å·+çŠ¶æ€ï¼Œé€‚åˆæ‰‹æœº\\\\nLite: æ ¸å¿ƒä¿¡æ¯(5è¡Œ) | Full: å®Œæ•´ä¿¡æ¯\")\n  66: dashboard_size = input.string(\"Normal\", \"Dashboard Size / é¢æ¿å¤§å°\", options=[\"Tiny\", \"Small\", \"Normal\", \"Large\"], group=grp_visual)\n  67: dashboard_transparency = input.int(30, \"Dashboard Transparency / é¢æ¿é€æ˜åº¦\", minval=0, maxval=100, step=10, group=grp_visual)\n  73: normal_signal_mode = input.string(\"Smart\", \"Normal Signal Mode / æ™®é€šä¿¡å·æ¨¡å¼\", options=[\"Off\", \"On\", \"Smart\"], group=grp_alerts, tooltip=\"Off: å…³é—­æ™®é€šä¿¡å·\\nOn: æ€»æ˜¯æ˜¾ç¤ºï¼Œä½¿ç”¨æ‰‹åŠ¨é˜ˆå€¼\\nSmart: è‡ªåŠ¨åˆ¤æ–­æ˜¾ç¤º+è‡ªåŠ¨é˜ˆå€¼\")\n  76: cooldown_mode = input.string(\"Smart\", \"Cooldown Mode / å†·å´æ¨¡å¼\", options=[\"Smart\", \"Fixed\"], group=grp_alerts, tooltip=\"Smart: æ ¹æ®å¸‚åœºæ³¢åŠ¨ç‡è‡ªåŠ¨è°ƒæ•´å†·å´æœŸ\\nFixed: ä½¿ç”¨å›ºå®šå†·å´æœŸ\")\n  90: mtf_mode = input.string(\"Auto\", \"MTF Mode / æ¨¡å¼\", options=[\"Auto\", \"Manual\"], group=grp_mtf, tooltip=\"Auto: æ ¹æ®åˆ†å½¢é€»è¾‘è‡ªåŠ¨é€‰æ‹©æ›´å°å‘¨æœŸ (å‘ä¸‹åˆ†å½¢)\\nManual: ä½¿ç”¨ä¸‹æ–¹æ‰‹åŠ¨è®¾ç½®\")\n  97: stats_mode = input.string(\"Ranking\", \"Stats Mode / ç»Ÿè®¡æ¨¡å¼\", options=[\"Signal Type\", \"Grade\", \"Ranking\"], group=grp_stats, tooltip=\"Signal Type: æŒ‰ä¿¡å·ç±»å‹ç»Ÿè®¡\\nGrade: æŒ‰è´¨é‡ç­‰çº§ç»Ÿè®¡\\nRanking: äº¤å‰æ’è¡Œæ¦œï¼ˆä¿¡å·Ã—ç­‰çº§ï¼‰\")\n  102: div_mode = input.string(\"Auto\", \"Divergence Mode / èƒŒç¦»æ¨¡å¼\", options=[\"Auto\", \"Low Vol\", \"Normal\", \"High Vol\", \"Crypto\", \"Custom\"], group=grp_divergence, tooltip=\"Auto: æ ¹æ®ATRè‡ªåŠ¨åˆ¤æ–­\\nLow Vol: è“ç­¹/ETF\\nNormal: ä¸€èˆ¬è‚¡ç¥¨\\nHigh Vol: æˆé•¿/å°ç›˜\\nCrypto: åŠ å¯†è´§å¸\")\n  117: normal_threshold = normal_signal_mode == \"On\" ? normal_threshold_manual : auto_normal_threshold\n  120: active_div_mode = div_mode == \"Auto\" ? auto_vol_type : div_mode\n  121: div_lookback = div_mode == \"Custom\" ? div_lookback_custom : active_div_mode == \"Low Vol\" ? 3 : active_div_mode == \"Normal\" ? 5 : active_div_mode == \"High Vol\" ? 7 : 10\n  122: div_range = div_mode == \"Custom\" ? div_range_custom : active_div_mode == \"Low Vol\" ? 40 : active_div_mode == \"Normal\" ? 60 : active_div_mode == \"High Vol\" ? 80 : 120\n  135: vol_history_days = vol_history_mode == \"6 Months\" ? 126 : vol_history_mode == \"1 Year\" ? 252 : 504\n  151: cooldown_bars = cooldown_mode == \"Smart\" ? smart_cooldown_bars : cooldown_bars_fixed\n  176: lookback = lookback_mode == \"Custom\" ? math.min(1000, lookback_custom) : auto_lookback\n  262: show_normal_signals = normal_signal_mode == \"Off\" ? false : normal_signal_mode == \"On\" ? true : auto_show_normal\n  309: active_tf1 = mtf_mode == \"Auto\" ? auto_t1 : mtf_tf1_input\n  310: active_tf2 = mtf_mode == \"Auto\" ? auto_t2 : mtf_tf2_input\n  311: active_tf3 = mtf_mode == \"Auto\" ? auto_t3 : mtf_tf3_input\n  561: show_unified = visual_line_mode == \"Unified\"\n  562: show_zscore_lines = show_unified or visual_line_mode == \"Z-Score\" or visual_line_mode == \"Both\"\n  563: show_percentile_lines = visual_line_mode == \"Percentile\" or visual_line_mode == \"Both\"\n  565: zscore_extreme_color = show_zscore_lines ? (visual_line_mode == \"Both\" ? 50 : 70) : 100\n  566: zscore_normal_color = show_zscore_lines ? (visual_line_mode == \"Both\" ? 60 : 80) : 100\n  573: percentile_line_transparency = show_percentile_lines ? (visual_line_mode == \"Both\" ? 85 : 70) : 100\n  891: if show_dashboard\n  917: txt_size_title = dashboard_size == \"Tiny\" ? size.tiny : dashboard_size == \"Small\" ? size.small : dashboard_size == \"Normal\" ? size.normal : size.large\n  918: txt_size_body = dashboard_size == \"Tiny\" ? size.tiny : dashboard_size == \"Small\" ? size.tiny : dashboard_size == \"Normal\" ? size.small : size.normal\n  930: full_rows = 7 + (enable_mtf and dashboard_mode == \"Full\" ? 2 : 0) + (enable_divergence and dashboard_mode == \"Full\" ? 1 : 0) + (enable_stats and dashboard_mode == \"Full\" ? 9 : 0)\n  931: total_rows = dashboard_mode == \"Mobile\" ? mobile_rows : dashboard_mode == \"Lite\" ? lite_rows : full_rows\n  933: var table dashboard = table.new(position.top_right, 2, 20,\n  934: bgcolor=color.new(#1a1a2e, dashboard_transparency),\n  940: if dashboard_mode == \"Mobile\"\n  941: table.cell(dashboard, 0, row, \"RSI\", text_color=color.gray, text_size=txt_size_body, bgcolor=color.new(#2962FF, dashboard_transparency))\n  942: table.cell(dashboard, 1, row, str.tostring(rsi, \"#.1\"), text_color=color_rsi, text_size=txt_size_body, bgcolor=color.new(#2962FF, dashboard_transparency))\n  991: table.cell(dashboard, 0, row, \"ä¿¡å·\", text_color=color.gray, text_size=txt_size_body)\n  992: table.cell(dashboard, 1, row, signal_text, text_color=signal_color, text_size=txt_size_body)\n  997: table.cell(dashboard, 0, row, \"çŠ¶æ€\", text_color=color.gray, text_size=txt_size_body)\n  998: table.cell(dashboard, 1, row, status_mobile, text_color=status_color, text_size=txt_size_body)\n  1002: table.cell(dashboard, 0, row, \"ADAPTIVE RSI\", text_color=color.white, text_size=txt_size_title, bgcolor=color.new(#2962FF, dashboard_transparency))\n  1003: table.cell(dashboard, 1, row, str.tostring(rsi, \"#.0\"), text_color=color_rsi, text_size=txt_size_title, bgcolor=color.new(#2962FF, dashboard_transparency))\n  1008: table.cell(dashboard, 0, row, \"Z-Score\", text_color=color.gray, text_size=txt_size_body)\n  1009: table.cell(dashboard, 1, row, zscore_display, text_color=status_color, text_size=txt_size_body)\n  1014: table.cell(dashboard, 0, row, \"Percentile\", text_color=color.gray, text_size=txt_size_body)\n  1015: table.cell(dashboard, 1, row, percentile_display, text_color=status_color, text_size=txt_size_body)\n  1019: table.cell(dashboard, 0, row, \"Status\", text_color=color.gray, text_size=txt_size_body)\n  1020: table.cell(dashboard, 1, row, str.format(\"{0}{1}\", status_text, quality_display), text_color=status_color, text_size=txt_size_body)\n  1027: table.cell(dashboard, 0, row, str.format(\"Protection [{0}]\", protection_level), text_color=color.gray, text_size=txt_size_body)\n  1028: table.cell(dashboard, 1, row, str.format(\"{0} {1} {2}\", protection_status, weekly_rsi_display, vol_display), text_color=protection_color, text_size=txt_size_body)\n  1031: lookback_mode_display = lookback_mode == \"Auto\" ? \"[Auto]\" : \"[Custom]\"\n  1035: table.cell(dashboard, 0, row, str.format(\"Lookback {0}\", lookback_mode_display), text_color=color.gray, text_size=txt_size_body)\n  1036: table.cell(dashboard, 1, row, str.format(\"{0}{1}({2}-{3}) {4}\", lookback, spread_indicator, lookback_min, lookback_max, health_icons), text_color=lookback_color, text_size=txt_size_body)\n  1040: normal_mode_display = normal_signal_mode == \"Smart\" ? \"[Smart]\" : normal_signal_mode == \"On\" ? \"[On]\" : \"[Off]\"\n  1041: normal_status = normal_signal_mode == \"Off\" ? \"â€”\" : show_normal_signals ? str.format(\"â¬†ï¸{0,number,#.2}Ïƒ âœ“\", normal_threshold) : str.format(\"{0,number,#.2}Ïƒ âœ—\", normal_threshold)\n  1042: normal_color = normal_signal_mode == \"Off\" ? color.gray : show_normal_signals ? color.white : color.new(color.gray, 50)\n  1043: table.cell(dashboard, 0, row, str.format(\"Normal {0}\", normal_mode_display), text_color=color.gray, text_size=txt_size_body)\n  1044: table.cell(dashboard, 1, row, normal_status, text_color=normal_color, text_size=txt_size_body)\n  1047: if dashboard_mode == \"Full\"\n  1049: table.cell(dashboard, 0, row, str.format(\"MTF {0}|{1}|{2}\", mtf_tf1_display, mtf_tf2_display, mtf_tf3_display), text_color=color.gray, text_size=txt_size_body)\n  1050: table.cell(dashboard, 1, row, str.format(\"{0}|{1}|{2}\", f_status_text(status_tf1), f_status_text(status_tf2), f_status_text(status_tf3)), text_color=color.white, text_size=txt_size_body)\n  1053: table.cell(dashboard, 0, row, \"Resonance\", text_color=color.gray, text_size=txt_size_body)\n  1054: table.cell(dashboard, 1, row, resonance_text, text_color=resonance_color, text_size=txt_size_body)\n  1058: div_mode_display = div_mode == \"Auto\" ? str.format(\"[{0}]\", active_div_mode) : \"\"\n  1059: table.cell(dashboard, 0, row, str.format(\"Divergence {0}\", div_mode_display), text_color=color.gray, text_size=txt_size_body)\n  1060: table.cell(dashboard, 1, row, str.format(\"{0} ({1}/{2})\", div_text, div_lookback, div_range), text_color=div_color, text_size=txt_size_body)\n  1064: stats_title = stats_mode == \"Ranking\" ? \"â”€â”€ RANKING â”€â”€\" : stats_mode == \"Grade\" ? \"â”€â”€ GRADE STATS â”€â”€\" : \"â”€â”€ SIGNAL STATS â”€â”€\"\n  1065: table.cell(dashboard, 0, row, stats_title, text_color=color.gray, text_size=txt_size_body)\n  1066: table.cell(dashboard, 1, row, \"(\" + str.tostring(stats_forward_bars) + \" bars)\", text_color=color.gray, text_size=txt_size_body)\n  1069: if stats_mode == \"Signal Type\"\n  1072: table.cell(dashboard, 0, row, str.format(\"ğŸŒŸMTF Buy({0}){1}\", mtf_buy_stats.count, mtf_buy_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1073: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", mtf_buy_stats.get_avg(), mtf_buy_wr), text_color=color_bull, text_size=txt_size_body)\n  1075: table.cell(dashboard, 0, row, str.format(\"ğŸŒŸMTF Sell({0}){1}\", mtf_sell_stats.count, mtf_sell_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1076: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", mtf_sell_stats.get_avg(), mtf_sell_wr), text_color=color_bear, text_size=txt_size_body)\n  1081: table.cell(dashboard, 0, row, str.format(\"ğŸ’Div Buy({0}){1}\", div_buy_stats.count, div_buy_stats.get_reliability()), text_color=#00BCD4, text_size=txt_size_body)\n  1082: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", div_buy_stats.get_avg(), div_buy_wr), text_color=color_bull, text_size=txt_size_body)\n  1084: table.cell(dashboard, 0, row, str.format(\"ğŸ’Div Sell({0}){1}\", div_sell_stats.count, div_sell_stats.get_reliability()), text_color=#00BCD4, text_size=txt_size_body)\n  1085: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", div_sell_stats.get_avg(), div_sell_wr), text_color=color_bear, text_size=txt_size_body)\n  1090: table.cell(dashboard, 0, row, str.format(\"ğŸ”¥Ext Buy({0}){1}\", ext_buy_stats.count, ext_buy_stats.get_reliability()), text_color=color_bull, text_size=txt_size_body)\n  1091: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", ext_buy_stats.get_avg(), ext_buy_wr), text_color=color_bull, text_size=txt_size_body)\n  1093: table.cell(dashboard, 0, row, str.format(\"â„ï¸Ext Sell({0}){1}\", ext_sell_stats.count, ext_sell_stats.get_reliability()), text_color=color_bear, text_size=txt_size_body)\n  1094: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", ext_sell_stats.get_avg(), ext_sell_wr), text_color=color_bear, text_size=txt_size_body)\n  1099: table.cell(dashboard, 0, row, str.format(\"â¬†ï¸Norm Buy({0}){1}\", norm_buy_stats.count, norm_buy_stats.get_reliability()), text_color=color.new(color_bull, 30), text_size=txt_size_body)\n  1100: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", norm_buy_stats.get_avg(), norm_buy_wr), text_color=color_bull, text_size=txt_size_body)\n  1102: table.cell(dashboard, 0, row, str.format(\"â¬‡ï¸Norm Sell({0}){1}\", norm_sell_stats.count, norm_sell_stats.get_reliability()), text_color=color.new(color_bear, 30), text_size=txt_size_body)\n  1103: table.cell(dashboard, 1, row, str.format(\"{0,number,+#.1;-#.1}%|{1}\", norm_sell_stats.get_avg(), norm_sell_wr), text_color=color_bear, text_size=txt_size_body)\n  1106: else if stats_mode == \"Grade\"\n  1109: table.cell(dashboard, 0, row, str.format(\"[A]ğŸ“ˆ({0}){1}\", grade_a_buy_stats.count, grade_a_buy_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1110: table.cell(dashboard, 1, row, a_buy_display, text_color=color_bull, text_size=txt_size_body)\n  1112: table.cell(dashboard, 0, row, str.format(\"[A]ğŸ“‰({0}){1}\", grade_a_sell_stats.count, grade_a_sell_stats.get_reliability()), text_color=#FFD700, text_size=txt_size_body)\n  1113: table.cell(dashboard, 1, row, a_sell_display, text_color=color_bear, text_size=txt_size_body)\n  1118: table.cell(dashboard, 0, row, str.format(\"[B]ğŸ“ˆ({0}){1}\", grade_b_buy_stats.count, grade_b_buy_stats.get_reliability()), text_color=#4CAF50, text_size=txt_size_body)\n  1119: table.cell(dashboard, 1, row, b_buy_display, text_color=color_bull, text_size=txt_size_body)\n  1121: table.cell(dashboard, 0, row, str.format(\"[B]ğŸ“‰({0}){1}\", grade_b_sell_stats.count, grade_b_sell_stats.get_reliability()), text_color=#4CAF50, text_size=txt_size_body)\n  1122: table.cell(dashboard, 1, row, b_sell_display, text_color=color_bear, text_size=txt_size_body)\n  1127: table.cell(dashboard, 0, row, str.format(\"[C]ğŸ“ˆ({0}){1}\", grade_c_buy_stats.count, grade_c_buy_stats.get_reliability()), text_color=#FF9800, text_size=txt_size_body)\n  1128: table.cell(dashboard, 1, row, c_buy_display, text_color=color_bull, text_size=txt_size_body)\n  1130: table.cell(dashboard, 0, row, str.format(\"[C]ğŸ“‰({0}){1}\", grade_c_sell_stats.count, grade_c_sell_stats.get_reliability()), text_color=#FF9800, text_size=txt_size_body)\n  1131: table.cell(dashboard, 1, row, c_sell_display, text_color=color_bear, text_size=txt_size_body)\n  1136: table.cell(dashboard, 0, row, str.format(\"[D]ğŸ“ˆ({0}){1}\", grade_d_buy_stats.count, grade_d_buy_stats.get_reliability()), text_color=#9E9E9E, text_size=txt_size_body)\n  1137: table.cell(dashboard, 1, row, d_buy_display, text_color=color_bull, text_size=txt_size_body)\n  1139: table.cell(dashboard, 0, row, str.format(\"[D]ğŸ“‰({0}){1}\", grade_d_sell_stats.count, grade_d_sell_stats.get_reliability()), text_color=#9E9E9E, text_size=txt_size_body)\n  1140: table.cell(dashboard, 1, row, d_sell_display, text_color=color_bear, text_size=txt_size_body)\n  1142: else if stats_mode == \"Ranking\"\n  1409: table.cell(dashboard, 0, row, label_text, text_color=dir_clr, text_size=txt_size_body)\n  1410: table.cell(dashboard, 1, row, value_text, text_color=dir_clr, text_size=txt_size_body)\n  1416: table.cell(dashboard, 0, row, \"No data yet\", text_color=color.gray, text_size=txt_size_body)\n  1417: table.cell(dashboard, 1, row, \"Need â‰¥5 signals\", text_color=color.gray, text_size=txt_size_body)\n"}}
